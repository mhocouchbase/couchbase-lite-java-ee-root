<html>
<head>
<title>SQLite Encryption Extension</title>
</head>
<body bgcolor="white">
<img src="http://www.hwaci.com/sw/sqlite/SQLite.gif" align="left">
<h1 align="center">
The SQLite Encryption Extension (SEE)
</h1>

<br clear="both">

<p>
The SQLite Encryption Extension (SEE) is an add-on to the public domain
version of SQLite that allows an application to read and write encrypted
database files.  Four different encryption algorithms are supported:
</p>

<p>
<ul>
<li> RC4 </li>
<li> AES-128 in OFB mode </li>
<li> AES-128 in CCM mode </li>
<li> AES-256 in OFB mode </li>
</ul>
</p>

<p>
A version of SQLite that is equipped with SEE is able to read and write
ordinary database files created using a public domain version of SQLite
in addition to reading and writing encrypted files.  In fact, an application
use the
<a href="http://www.sqlite.org/lang_attach.html">ATTACH</a> command of
SQLite to simultaneously talk to two or more encrypted and/or unencrypted
database files.  Each database file can have its own encryption key.
</p>

<p>
The SEE encrypts the entire database file - both data and metadata.
To an outside observer, an encrypted SQLite database file appears to be
white noise.  Both the database file itself and its rollback journal
are encrypted.
</p>

<h2>Usage</h2>

<p>
The SEE includes two new APIs:
</p>

<blockquote><pre>
int sqlite3_key(
   sqlite3 *db,        /* The connection from sqlite3_open() */
   const void *pKey,   /* The key */
   int nKey            /* Number of bytes in the key */
);

int sqlite_rekey(
   sqlite *db,                    /* Database to be rekeyed */
   const void *pKey, int nKey     /* The new key */
);
</pre></blockquote>

<p>
The <b>sqlite3_key()</b> interface is used to specify the encryption
key on a newly opened database connection.  The <b>sqlite3_rekey()</b>
interface is used to change the encryption key on a database connection
that is already opened.  The <b>sqlite3_rekey()</b> interface can also
decrypt a previously encrypted database (so that it is accessible from
an unenhanced public-domain version of SQLite) by specifying a NULL key.
</p>

<p>
For the benefit applications that use SQLite through third-party wrappers
and are unable to make C-language function calls,
the interfaces above are also accessible through PRAGMAs:
</p>

<blockquote><b>
PRAGMA key='</b><i>text</i><b>';<br>
PRAGMA hexkey='</b><i>hexadecimal</i><b>';<br>
PRAGMA rekey='</b><i>text</i><b>';<br>
PRAGMA hexrekey='</b><i>hexadecimal</i><b>';<br>
</b></blockquote>

<p>Other than the additions above, there are no changes to the 
SQLite interface in SEE.  If you already have your application working
with public-domain SQLite, then you should be able to drop in SEE in
place of SQLite, recompile, and your application will continue to work
identically.  SEE will not start encrypting databases until you enable
the encryption feature using one of the interfaces outlined aboved.</p>

<p>
The SQLite Command-Line Interface (CLI) is enhanced with two additional
command-line options, "-key" and "-hexkey", that are used to specify the
encryption key.  The -key option takes an argument which is the encryption
key in ASCII text.  The -hexkey option takes an argument which is the
binary encryption key represented in hexadecimal.
The CLI also includes a new dot-command called ".rekey" that invokes
the <b>sqlite3_rekey()</b> interface in order to change the encryption
key on a database.
</p>

<h2>Deliverables</h2>

<p>
The SEE is shipped as source code.  You are responsible for compiling
it yourself.  But SEE is written entirely in uncomplicated ANSI-C code.
If you are able to compile the public domain SQLite, then you should have
no difficulty compiling the SEE.
</p>

<p>
After you purchase a license to use SEE, you will receive a userid and
password to the on-line software configuration management system for SEE.
You can then log in whenever you like and download new or historical
versions of SEE and accompanying documentation.  
Your userid and password never expire so you will be able to log in
and download updates as soon as they become available.
</p>

<h2>License</h2>

<p>
The SEE is licensed software.  Here is a copy of a
<a href="license-see.html">sample license agreement</a>.
Your license is perpetual.  You can ship as many compiled, binary copies of 
SQLite with your commercial product as long as each copy is attached to
your product in such a way that it cannot be separated from your product.
Normally this means that you should statically link SEE with your product,
thought exceptions to this rule can be made as circumstances require.
There are no per-copy royalties are fees and there are no license
renewals.
</p>

<p>
If you upgrade to a newer version of the public-domain SQLite and your
SEE module stops working, you can request a free update.   There is
no limit to the number of updates, however you must request the
updates.  Updates are not sent automatically.
</p>

<p>
Your SEE license is valid for multiple products as long as all products
are developed and maintained by a single team.  For the purposes of this
paragraph a "team" is a group of people who work together and all know
each others names.  For smaller organizations, an entire company is usually
considered a single team.  However, for larger firms, we may ask that
different project teams each acquire their own separate license.
</p>

<p>
The cost of a perpetual source code license for SEE is
US $2000.  You can 
<a href="http://www.hwaci.com/cgi-bin/see-step1">order on-line</a>
or send email to <a href="sqlite@hwaci.com">sqlite@hwaci.com</a>
or call during east-coast business hours: +1.704.948.4565.
</p>

<h2>Support</h2>

<p>
The base price of SEE does not include support.  We will answer 
a few simple questions to help you get started, and we will fix
any bugs you find within 90 days of purchase.  
But for help beyond this, we ask that you obtain an
<a href="http://www.hwaci.com/sw/sqlite/ams.html">
Annual Maintenance Subscription</a> for SQLite.  An Annual
Maintenance Subscription entitles you to support for both SEE
and for the public-domain SQLite code.
</p>

<p>
Higher levels of support are available on a negotiated basis.
Baseline support packages include a
<a href="http://www.hwaci.com/sw/sqlite/tech.html">Technical
Support Agreements</a> and
<a href="http://www.hwaci.com/sw/sqlite/member.html">SQLite
Consortium Membership</a>.  Consortium membership is the highest
level of support offered.  The US $2000 SEE license fee is
waived for Consortium members.
</p>

<h2>Additional Information</h2>

<p>
If you have other questions about SQLite, please contact us directly
at <a href="sqlite@hwaci.com">sqlite@hwaci.com</a> or by phone
at +1.704.948.4565 during east-coast business hours.
</p>

</body>
</html>
