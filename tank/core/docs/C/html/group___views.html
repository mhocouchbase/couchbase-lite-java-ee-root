<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.12"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LiteCore: Views</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LiteCore
   </div>
   <div id="projectbrief">Couchbase Lite cross-platform core implementation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a>  </div>
  <div class="headertitle">
<div class="title">Views</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga38261162bc18a545134b7034254a0dfa"><td class="memItemLeft" align="right" valign="top">typedef struct c4View&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___views.html#ga38261162bc18a545134b7034254a0dfa">C4View</a></td></tr>
<tr class="memdesc:ga38261162bc18a545134b7034254a0dfa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Opaque handle to an opened view.  <a href="#ga38261162bc18a545134b7034254a0dfa">More...</a><br /></td></tr>
<tr class="separator:ga38261162bc18a545134b7034254a0dfa"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Lifecycle</h2></td></tr>
<tr class="memitem:gab676253cfbede79d25b5aedea19a2b5a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___views.html#ga38261162bc18a545134b7034254a0dfa">C4View</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___views.html#gab676253cfbede79d25b5aedea19a2b5a">c4view_open</a> (<a class="el" href="group___database.html#ga15e027d347f40041585744dad4dac1c9">C4Database</a> *database, <a class="el" href="struct_c4_slice.html">C4Slice</a> path, <a class="el" href="struct_c4_slice.html">C4Slice</a> viewName, <a class="el" href="struct_c4_slice.html">C4Slice</a> version, const <a class="el" href="struct_c4_database_config.html">C4DatabaseConfig</a> *config, <a class="el" href="struct_c4_error.html">C4Error</a> *outError) <a class="el" href="c4_base_8h.html#a58e05642a5ffd7b621ed01bbd8fe7868">C4API</a></td></tr>
<tr class="memdesc:gab676253cfbede79d25b5aedea19a2b5a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Opens a view, or creates it if the file doesn't already exist.  <a href="#gab676253cfbede79d25b5aedea19a2b5a">More...</a><br /></td></tr>
<tr class="separator:gab676253cfbede79d25b5aedea19a2b5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5b1edebd5b8e64ce04709ee770ff9b85"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___views.html#ga5b1edebd5b8e64ce04709ee770ff9b85">c4view_free</a> (<a class="el" href="group___views.html#ga38261162bc18a545134b7034254a0dfa">C4View</a> *view) <a class="el" href="c4_base_8h.html#a58e05642a5ffd7b621ed01bbd8fe7868">C4API</a></td></tr>
<tr class="memdesc:ga5b1edebd5b8e64ce04709ee770ff9b85"><td class="mdescLeft">&#160;</td><td class="mdescRight">Frees a view handle, closing it if necessary.  <a href="#ga5b1edebd5b8e64ce04709ee770ff9b85">More...</a><br /></td></tr>
<tr class="separator:ga5b1edebd5b8e64ce04709ee770ff9b85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaee1f770b6133d207b6a5f5955ad562c2"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___views.html#gaee1f770b6133d207b6a5f5955ad562c2">c4view_close</a> (<a class="el" href="group___views.html#ga38261162bc18a545134b7034254a0dfa">C4View</a> *view, <a class="el" href="struct_c4_error.html">C4Error</a> *) <a class="el" href="c4_base_8h.html#a58e05642a5ffd7b621ed01bbd8fe7868">C4API</a></td></tr>
<tr class="memdesc:gaee1f770b6133d207b6a5f5955ad562c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Closes the view.  <a href="#gaee1f770b6133d207b6a5f5955ad562c2">More...</a><br /></td></tr>
<tr class="separator:gaee1f770b6133d207b6a5f5955ad562c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga26ed42ace970ec926a0312c5b4aef92d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___views.html#ga26ed42ace970ec926a0312c5b4aef92d">c4view_rekey</a> (<a class="el" href="group___views.html#ga38261162bc18a545134b7034254a0dfa">C4View</a> *, const <a class="el" href="struct_c4_encryption_key.html">C4EncryptionKey</a> *newKey, <a class="el" href="struct_c4_error.html">C4Error</a> *outError) <a class="el" href="c4_base_8h.html#a58e05642a5ffd7b621ed01bbd8fe7868">C4API</a></td></tr>
<tr class="memdesc:ga26ed42ace970ec926a0312c5b4aef92d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Changes a view's encryption key (removing encryption if it's NULL.)  <a href="#ga26ed42ace970ec926a0312c5b4aef92d">More...</a><br /></td></tr>
<tr class="separator:ga26ed42ace970ec926a0312c5b4aef92d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga798fe13ae345c89555771f22cb769d47"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___views.html#ga798fe13ae345c89555771f22cb769d47">c4view_eraseIndex</a> (<a class="el" href="group___views.html#ga38261162bc18a545134b7034254a0dfa">C4View</a> *, <a class="el" href="struct_c4_error.html">C4Error</a> *outError) <a class="el" href="c4_base_8h.html#a58e05642a5ffd7b621ed01bbd8fe7868">C4API</a></td></tr>
<tr class="memdesc:ga798fe13ae345c89555771f22cb769d47"><td class="mdescLeft">&#160;</td><td class="mdescRight">Erases the view index, but doesn't delete the database file.  <a href="#ga798fe13ae345c89555771f22cb769d47">More...</a><br /></td></tr>
<tr class="separator:ga798fe13ae345c89555771f22cb769d47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6930e1ff0b0bf2513640f07e5d8eae8e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___views.html#ga6930e1ff0b0bf2513640f07e5d8eae8e">c4view_delete</a> (<a class="el" href="group___views.html#ga38261162bc18a545134b7034254a0dfa">C4View</a> *, <a class="el" href="struct_c4_error.html">C4Error</a> *outError) <a class="el" href="c4_base_8h.html#a58e05642a5ffd7b621ed01bbd8fe7868">C4API</a></td></tr>
<tr class="memdesc:ga6930e1ff0b0bf2513640f07e5d8eae8e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes the view's file(s) and closes/frees the C4View.  <a href="#ga6930e1ff0b0bf2513640f07e5d8eae8e">More...</a><br /></td></tr>
<tr class="separator:ga6930e1ff0b0bf2513640f07e5d8eae8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaefaea0c2a4e8915affdf09f2662653c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___views.html#gaaefaea0c2a4e8915affdf09f2662653c">c4view_deleteAtPath</a> (<a class="el" href="struct_c4_slice.html">C4Slice</a> dbPath, const <a class="el" href="struct_c4_database_config.html">C4DatabaseConfig</a> *config, <a class="el" href="struct_c4_error.html">C4Error</a> *outError) <a class="el" href="c4_base_8h.html#a58e05642a5ffd7b621ed01bbd8fe7868">C4API</a></td></tr>
<tr class="memdesc:gaaefaea0c2a4e8915affdf09f2662653c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes the file(s) for the view at the given path.  <a href="#gaaefaea0c2a4e8915affdf09f2662653c">More...</a><br /></td></tr>
<tr class="separator:gaaefaea0c2a4e8915affdf09f2662653c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga625c08bd66c84f355ae9e799618bfbc9"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___views.html#ga625c08bd66c84f355ae9e799618bfbc9">c4view_deleteByName</a> (<a class="el" href="group___database.html#ga15e027d347f40041585744dad4dac1c9">C4Database</a> *database, <a class="el" href="struct_c4_slice.html">C4Slice</a> viewName, <a class="el" href="struct_c4_error.html">C4Error</a> *outError) <a class="el" href="c4_base_8h.html#a58e05642a5ffd7b621ed01bbd8fe7868">C4API</a></td></tr>
<tr class="memdesc:ga625c08bd66c84f355ae9e799618bfbc9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes the file(s) for a view given its name and parent database.  <a href="#ga625c08bd66c84f355ae9e799618bfbc9">More...</a><br /></td></tr>
<tr class="separator:ga625c08bd66c84f355ae9e799618bfbc9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Accessors</h2></td></tr>
<tr class="memitem:ga2b01565ea447db0cbefb73b1e2c51843"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___views.html#ga2b01565ea447db0cbefb73b1e2c51843">c4view_setMapVersion</a> (<a class="el" href="group___views.html#ga38261162bc18a545134b7034254a0dfa">C4View</a> *view, <a class="el" href="struct_c4_slice.html">C4Slice</a> version) <a class="el" href="c4_base_8h.html#a58e05642a5ffd7b621ed01bbd8fe7868">C4API</a></td></tr>
<tr class="memdesc:ga2b01565ea447db0cbefb73b1e2c51843"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the persistent version string associated with the map function.  <a href="#ga2b01565ea447db0cbefb73b1e2c51843">More...</a><br /></td></tr>
<tr class="separator:ga2b01565ea447db0cbefb73b1e2c51843"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga68d06512bf5f7eca01e4f7b93c42af18"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___views.html#ga68d06512bf5f7eca01e4f7b93c42af18">c4view_getTotalRows</a> (<a class="el" href="group___views.html#ga38261162bc18a545134b7034254a0dfa">C4View</a> *) <a class="el" href="c4_base_8h.html#a58e05642a5ffd7b621ed01bbd8fe7868">C4API</a></td></tr>
<tr class="memdesc:ga68d06512bf5f7eca01e4f7b93c42af18"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the total number of rows in the view index.  <a href="#ga68d06512bf5f7eca01e4f7b93c42af18">More...</a><br /></td></tr>
<tr class="separator:ga68d06512bf5f7eca01e4f7b93c42af18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4b333720ce6278046f54e1689aaef109"><td class="memItemLeft" align="right" valign="top"><a class="el" href="c4_base_8h.html#a6c2d959939ef287ba3f2ee719c949229">C4SequenceNumber</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___views.html#ga4b333720ce6278046f54e1689aaef109">c4view_getLastSequenceIndexed</a> (<a class="el" href="group___views.html#ga38261162bc18a545134b7034254a0dfa">C4View</a> *) <a class="el" href="c4_base_8h.html#a58e05642a5ffd7b621ed01bbd8fe7868">C4API</a></td></tr>
<tr class="memdesc:ga4b333720ce6278046f54e1689aaef109"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the last database sequence number that's been indexed.  <a href="#ga4b333720ce6278046f54e1689aaef109">More...</a><br /></td></tr>
<tr class="separator:ga4b333720ce6278046f54e1689aaef109"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafc398d535b5d021440cac6875a7518eb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="c4_base_8h.html#a6c2d959939ef287ba3f2ee719c949229">C4SequenceNumber</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___views.html#gafc398d535b5d021440cac6875a7518eb">c4view_getLastSequenceChangedAt</a> (<a class="el" href="group___views.html#ga38261162bc18a545134b7034254a0dfa">C4View</a> *) <a class="el" href="c4_base_8h.html#a58e05642a5ffd7b621ed01bbd8fe7868">C4API</a></td></tr>
<tr class="memdesc:gafc398d535b5d021440cac6875a7518eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the last database sequence number that changed the view index.  <a href="#gafc398d535b5d021440cac6875a7518eb">More...</a><br /></td></tr>
<tr class="separator:gafc398d535b5d021440cac6875a7518eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae9f3b8fd090084c3c0ea84588993e4a8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___views.html#gae9f3b8fd090084c3c0ea84588993e4a8">c4view_setDocumentType</a> (<a class="el" href="group___views.html#ga38261162bc18a545134b7034254a0dfa">C4View</a> *, <a class="el" href="struct_c4_slice.html">C4Slice</a> docType) <a class="el" href="c4_base_8h.html#a58e05642a5ffd7b621ed01bbd8fe7868">C4API</a></td></tr>
<tr class="memdesc:gae9f3b8fd090084c3c0ea84588993e4a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets a documentType filter on the view.  <a href="#gae9f3b8fd090084c3c0ea84588993e4a8">More...</a><br /></td></tr>
<tr class="separator:gae9f3b8fd090084c3c0ea84588993e4a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga87ed6a710bfb2fa888adc21a51d6d428"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___views.html#ga87ed6a710bfb2fa888adc21a51d6d428">c4view_setOnCompactCallback</a> (<a class="el" href="group___views.html#ga38261162bc18a545134b7034254a0dfa">C4View</a> *, <a class="el" href="group___database.html#gafd3c912727033ebd38acebb65145c36d">C4OnCompactCallback</a>, void *context) <a class="el" href="c4_base_8h.html#a58e05642a5ffd7b621ed01bbd8fe7868">C4API</a></td></tr>
<tr class="memdesc:ga87ed6a710bfb2fa888adc21a51d6d428"><td class="mdescLeft">&#160;</td><td class="mdescRight">Registers a callback to be invoked when the view's index db starts or finishes compacting.  <a href="#ga87ed6a710bfb2fa888adc21a51d6d428">More...</a><br /></td></tr>
<tr class="separator:ga87ed6a710bfb2fa888adc21a51d6d428"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Indexing</h2></td></tr>
<tr class="memitem:ga603a63bb2e873bd2535f0fd7281751c2"><td class="memItemLeft" align="right" valign="top">typedef struct c4Indexer&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___views.html#ga603a63bb2e873bd2535f0fd7281751c2">C4Indexer</a></td></tr>
<tr class="memdesc:ga603a63bb2e873bd2535f0fd7281751c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Opaque reference to an indexing task.  <a href="#ga603a63bb2e873bd2535f0fd7281751c2">More...</a><br /></td></tr>
<tr class="separator:ga603a63bb2e873bd2535f0fd7281751c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab3b214b3ef80bda3f2db384b0053e176"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___views.html#ga603a63bb2e873bd2535f0fd7281751c2">C4Indexer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___views.html#gab3b214b3ef80bda3f2db384b0053e176">c4indexer_begin</a> (<a class="el" href="group___database.html#ga15e027d347f40041585744dad4dac1c9">C4Database</a> *db, <a class="el" href="group___views.html#ga38261162bc18a545134b7034254a0dfa">C4View</a> *views[], size_t viewCount, <a class="el" href="struct_c4_error.html">C4Error</a> *outError) <a class="el" href="c4_base_8h.html#a58e05642a5ffd7b621ed01bbd8fe7868">C4API</a></td></tr>
<tr class="memdesc:gab3b214b3ef80bda3f2db384b0053e176"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates an indexing task on one or more views in a database.  <a href="#gab3b214b3ef80bda3f2db384b0053e176">More...</a><br /></td></tr>
<tr class="separator:gab3b214b3ef80bda3f2db384b0053e176"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9f62237ec2cfc8f3cffba6a571d814a3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___views.html#ga9f62237ec2cfc8f3cffba6a571d814a3">c4indexer_triggerOnView</a> (<a class="el" href="group___views.html#ga603a63bb2e873bd2535f0fd7281751c2">C4Indexer</a> *indexer, <a class="el" href="group___views.html#ga38261162bc18a545134b7034254a0dfa">C4View</a> *view) <a class="el" href="c4_base_8h.html#a58e05642a5ffd7b621ed01bbd8fe7868">C4API</a></td></tr>
<tr class="memdesc:ga9f62237ec2cfc8f3cffba6a571d814a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Instructs the indexer not to do any indexing if the given view is up-to-date.  <a href="#ga9f62237ec2cfc8f3cffba6a571d814a3">More...</a><br /></td></tr>
<tr class="separator:ga9f62237ec2cfc8f3cffba6a571d814a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad29ff91631936238d0c55209abcbd976"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="group___document.html#ga59fb880ac20dc61d0ef5568541b9cbca">C4DocEnumerator</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___views.html#gad29ff91631936238d0c55209abcbd976">c4indexer_enumerateDocuments</a> (<a class="el" href="group___views.html#ga603a63bb2e873bd2535f0fd7281751c2">C4Indexer</a> *indexer, <a class="el" href="struct_c4_error.html">C4Error</a> *outError) <a class="el" href="c4_base_8h.html#a58e05642a5ffd7b621ed01bbd8fe7868">C4API</a></td></tr>
<tr class="memdesc:gad29ff91631936238d0c55209abcbd976"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates an enumerator that will return all the documents that need to be (re)indexed.  <a href="#gad29ff91631936238d0c55209abcbd976">More...</a><br /></td></tr>
<tr class="separator:gad29ff91631936238d0c55209abcbd976"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5839698b4c882d859c7daa9eb0a7f3e3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___views.html#ga5839698b4c882d859c7daa9eb0a7f3e3">c4indexer_shouldIndexDocument</a> (<a class="el" href="group___views.html#ga603a63bb2e873bd2535f0fd7281751c2">C4Indexer</a> *indexer, unsigned viewNumber, <a class="el" href="struct_c4_document.html">C4Document</a> *doc) <a class="el" href="c4_base_8h.html#a58e05642a5ffd7b621ed01bbd8fe7868">C4API</a></td></tr>
<tr class="memdesc:ga5839698b4c882d859c7daa9eb0a7f3e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if a view being indexed should index the given document.  <a href="#ga5839698b4c882d859c7daa9eb0a7f3e3">More...</a><br /></td></tr>
<tr class="separator:ga5839698b4c882d859c7daa9eb0a7f3e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf91559fbd1310d17ed75981ba84a82d4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___views.html#gaf91559fbd1310d17ed75981ba84a82d4">c4indexer_emit</a> (<a class="el" href="group___views.html#ga603a63bb2e873bd2535f0fd7281751c2">C4Indexer</a> *indexer, <a class="el" href="struct_c4_document.html">C4Document</a> *document, unsigned viewNumber, unsigned emitCount, <a class="el" href="group___keys.html#gab73d7fc7def288ceecff589bf3ae5218">C4Key</a> *const emittedKeys[], <a class="el" href="struct_c4_slice.html">C4Slice</a> const emittedValues[], <a class="el" href="struct_c4_error.html">C4Error</a> *outError) <a class="el" href="c4_base_8h.html#a58e05642a5ffd7b621ed01bbd8fe7868">C4API</a></td></tr>
<tr class="memdesc:gaf91559fbd1310d17ed75981ba84a82d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds index rows for the keys/values derived from one document, for one view.  <a href="#gaf91559fbd1310d17ed75981ba84a82d4">More...</a><br /></td></tr>
<tr class="separator:gaf91559fbd1310d17ed75981ba84a82d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1b91890143f71b093d2ce22235438988"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___views.html#ga1b91890143f71b093d2ce22235438988">c4indexer_emitList</a> (<a class="el" href="group___views.html#ga603a63bb2e873bd2535f0fd7281751c2">C4Indexer</a> *indexer, <a class="el" href="struct_c4_document.html">C4Document</a> *doc, unsigned viewNumber, <a class="el" href="group___keys.html#ga5ca4e99adb79070ef661f639f07c127f">C4KeyValueList</a> *kv, <a class="el" href="struct_c4_error.html">C4Error</a> *outError) <a class="el" href="c4_base_8h.html#a58e05642a5ffd7b621ed01bbd8fe7868">C4API</a></td></tr>
<tr class="memdesc:ga1b91890143f71b093d2ce22235438988"><td class="mdescLeft">&#160;</td><td class="mdescRight">Alternate form of c4indexer_emit that takes a C4KeyValueList instead of C arrays.  <a href="#ga1b91890143f71b093d2ce22235438988">More...</a><br /></td></tr>
<tr class="separator:ga1b91890143f71b093d2ce22235438988"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga931c29f2094dc62abeea1f49f16abb1d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___views.html#ga931c29f2094dc62abeea1f49f16abb1d">c4indexer_end</a> (<a class="el" href="group___views.html#ga603a63bb2e873bd2535f0fd7281751c2">C4Indexer</a> *indexer, bool commit, <a class="el" href="struct_c4_error.html">C4Error</a> *outError) <a class="el" href="c4_base_8h.html#a58e05642a5ffd7b621ed01bbd8fe7868">C4API</a></td></tr>
<tr class="memdesc:ga931c29f2094dc62abeea1f49f16abb1d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finishes an indexing task and frees the indexer reference.  <a href="#ga931c29f2094dc62abeea1f49f16abb1d">More...</a><br /></td></tr>
<tr class="separator:ga931c29f2094dc62abeea1f49f16abb1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6e276dcdcaab8684a3d0993260ef6d7e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___views.html#ga6e276dcdcaab8684a3d0993260ef6d7e">kC4PlaceholderValue</a>&#160;&#160;&#160;((<a class="el" href="struct_c4_slice.html">C4Slice</a>){&quot;*&quot;, 1})</td></tr>
<tr class="separator:ga6e276dcdcaab8684a3d0993260ef6d7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ga6e276dcdcaab8684a3d0993260ef6d7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6e276dcdcaab8684a3d0993260ef6d7e">&sect;&nbsp;</a></span>kC4PlaceholderValue</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define kC4PlaceholderValue&#160;&#160;&#160;((<a class="el" href="struct_c4_slice.html">C4Slice</a>){&quot;*&quot;, 1})</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="ga603a63bb2e873bd2535f0fd7281751c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga603a63bb2e873bd2535f0fd7281751c2">&sect;&nbsp;</a></span>C4Indexer</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct c4Indexer <a class="el" href="group___views.html#ga603a63bb2e873bd2535f0fd7281751c2">C4Indexer</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Opaque reference to an indexing task. </p>

</div>
</div>
<a id="ga38261162bc18a545134b7034254a0dfa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga38261162bc18a545134b7034254a0dfa">&sect;&nbsp;</a></span>C4View</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct c4View <a class="el" href="group___views.html#ga38261162bc18a545134b7034254a0dfa">C4View</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Opaque handle to an opened view. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gab3b214b3ef80bda3f2db384b0053e176"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab3b214b3ef80bda3f2db384b0053e176">&sect;&nbsp;</a></span>c4indexer_begin()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___views.html#ga603a63bb2e873bd2535f0fd7281751c2">C4Indexer</a>* c4indexer_begin </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___database.html#ga15e027d347f40041585744dad4dac1c9">C4Database</a> *&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___views.html#ga38261162bc18a545134b7034254a0dfa">C4View</a> *&#160;</td>
          <td class="paramname"><em>views</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>viewCount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c4_error.html">C4Error</a> *&#160;</td>
          <td class="paramname"><em>outError</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates an indexing task on one or more views in a database. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">db</td><td>The database to index. </td></tr>
    <tr><td class="paramname">views</td><td>An array of views whose indexes should be updated in parallel. </td></tr>
    <tr><td class="paramname">viewCount</td><td>The number of views in the views[] array. </td></tr>
    <tr><td class="paramname">outError</td><td>On failure, error info will be stored here. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A new C4Indexer, or NULL on failure. </dd></dl>

</div>
</div>
<a id="gaf91559fbd1310d17ed75981ba84a82d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf91559fbd1310d17ed75981ba84a82d4">&sect;&nbsp;</a></span>c4indexer_emit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool c4indexer_emit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___views.html#ga603a63bb2e873bd2535f0fd7281751c2">C4Indexer</a> *&#160;</td>
          <td class="paramname"><em>indexer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c4_document.html">C4Document</a> *&#160;</td>
          <td class="paramname"><em>document</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>viewNumber</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>emitCount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___keys.html#gab73d7fc7def288ceecff589bf3ae5218">C4Key</a> *const&#160;</td>
          <td class="paramname"><em>emittedKeys</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c4_slice.html">C4Slice</a> const&#160;</td>
          <td class="paramname"><em>emittedValues</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c4_error.html">C4Error</a> *&#160;</td>
          <td class="paramname"><em>outError</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds index rows for the keys/values derived from one document, for one view. </p>
<p>This function needs to be called <em>exactly once</em> for each (document, view) pair during indexing. (Even if the view's map function didn't emit anything, the old keys/values need to be cleaned up.)</p>
<p>Values are uninterpreted by LiteCore, but by convention are JSON. A special value "*" (a single asterisk) is used as a placeholder for the entire document.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">indexer</td><td>The indexer task. </td></tr>
    <tr><td class="paramname">document</td><td>The document being indexed. </td></tr>
    <tr><td class="paramname">viewNumber</td><td>The position of the view in the indexer's views[] array. </td></tr>
    <tr><td class="paramname">emitCount</td><td>The number of emitted key/value pairs. </td></tr>
    <tr><td class="paramname">emittedKeys</td><td>Array of keys being emitted. </td></tr>
    <tr><td class="paramname">emittedValues</td><td>Array of values being emitted. (JSON by convention.) </td></tr>
    <tr><td class="paramname">outError</td><td>On failure, error info will be stored here. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True on success, false on failure. </dd></dl>

</div>
</div>
<a id="ga1b91890143f71b093d2ce22235438988"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1b91890143f71b093d2ce22235438988">&sect;&nbsp;</a></span>c4indexer_emitList()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool c4indexer_emitList </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___views.html#ga603a63bb2e873bd2535f0fd7281751c2">C4Indexer</a> *&#160;</td>
          <td class="paramname"><em>indexer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c4_document.html">C4Document</a> *&#160;</td>
          <td class="paramname"><em>doc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>viewNumber</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___keys.html#ga5ca4e99adb79070ef661f639f07c127f">C4KeyValueList</a> *&#160;</td>
          <td class="paramname"><em>kv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c4_error.html">C4Error</a> *&#160;</td>
          <td class="paramname"><em>outError</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Alternate form of c4indexer_emit that takes a C4KeyValueList instead of C arrays. </p>

</div>
</div>
<a id="ga931c29f2094dc62abeea1f49f16abb1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga931c29f2094dc62abeea1f49f16abb1d">&sect;&nbsp;</a></span>c4indexer_end()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool c4indexer_end </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___views.html#ga603a63bb2e873bd2535f0fd7281751c2">C4Indexer</a> *&#160;</td>
          <td class="paramname"><em>indexer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>commit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c4_error.html">C4Error</a> *&#160;</td>
          <td class="paramname"><em>outError</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Finishes an indexing task and frees the indexer reference. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">indexer</td><td>The indexer. </td></tr>
    <tr><td class="paramname">commit</td><td>True to commit changes to the indexes, false to abort. </td></tr>
    <tr><td class="paramname">outError</td><td>On failure, error info will be stored here. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True on success, false on failure. </dd></dl>

</div>
</div>
<a id="gad29ff91631936238d0c55209abcbd976"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad29ff91631936238d0c55209abcbd976">&sect;&nbsp;</a></span>c4indexer_enumerateDocuments()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="group___document.html#ga59fb880ac20dc61d0ef5568541b9cbca">C4DocEnumerator</a>* c4indexer_enumerateDocuments </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___views.html#ga603a63bb2e873bd2535f0fd7281751c2">C4Indexer</a> *&#160;</td>
          <td class="paramname"><em>indexer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c4_error.html">C4Error</a> *&#160;</td>
          <td class="paramname"><em>outError</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates an enumerator that will return all the documents that need to be (re)indexed. </p>
<p>Returns NULL if no indexing is needed; you can distinguish this from an error by looking at the <a class="el" href="struct_c4_error.html" title="An error value. ">C4Error</a>. </p>

</div>
</div>
<a id="ga5839698b4c882d859c7daa9eb0a7f3e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5839698b4c882d859c7daa9eb0a7f3e3">&sect;&nbsp;</a></span>c4indexer_shouldIndexDocument()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool c4indexer_shouldIndexDocument </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___views.html#ga603a63bb2e873bd2535f0fd7281751c2">C4Indexer</a> *&#160;</td>
          <td class="paramname"><em>indexer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>viewNumber</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c4_document.html">C4Document</a> *&#160;</td>
          <td class="paramname"><em>doc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns true if a view being indexed should index the given document. </p>
<p>(This checks whether the document's current revision's sequence is greater than the view's last-indexed sequence.) If only one view is being indexed, you don't need to call this (assume it returns true.) If this function returns true, the caller should proceed to compute the key/value pairs, then call <a class="el" href="group___views.html#gaf91559fbd1310d17ed75981ba84a82d4" title="Adds index rows for the keys/values derived from one document, for one view. ">c4indexer_emit()</a> to add them to this view's index. If this function returns false, the caller should skip to the next view. </p>

</div>
</div>
<a id="ga9f62237ec2cfc8f3cffba6a571d814a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9f62237ec2cfc8f3cffba6a571d814a3">&sect;&nbsp;</a></span>c4indexer_triggerOnView()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void c4indexer_triggerOnView </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___views.html#ga603a63bb2e873bd2535f0fd7281751c2">C4Indexer</a> *&#160;</td>
          <td class="paramname"><em>indexer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___views.html#ga38261162bc18a545134b7034254a0dfa">C4View</a> *&#160;</td>
          <td class="paramname"><em>view</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Instructs the indexer not to do any indexing if the given view is up-to-date. </p>
<p>Typically this is used when the indexing occurs because this view is being queried. </p>

</div>
</div>
<a id="gaee1f770b6133d207b6a5f5955ad562c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaee1f770b6133d207b6a5f5955ad562c2">&sect;&nbsp;</a></span>c4view_close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool c4view_close </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___views.html#ga38261162bc18a545134b7034254a0dfa">C4View</a> *&#160;</td>
          <td class="paramname"><em>view</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c4_error.html">C4Error</a> *&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Closes the view. </p>
<p>Does not free the handle, but calls to it will return errors. </p>

</div>
</div>
<a id="ga6930e1ff0b0bf2513640f07e5d8eae8e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6930e1ff0b0bf2513640f07e5d8eae8e">&sect;&nbsp;</a></span>c4view_delete()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool c4view_delete </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___views.html#ga38261162bc18a545134b7034254a0dfa">C4View</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c4_error.html">C4Error</a> *&#160;</td>
          <td class="paramname"><em>outError</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deletes the view's file(s) and closes/frees the C4View. </p>

</div>
</div>
<a id="gaaefaea0c2a4e8915affdf09f2662653c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaaefaea0c2a4e8915affdf09f2662653c">&sect;&nbsp;</a></span>c4view_deleteAtPath()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool c4view_deleteAtPath </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_c4_slice.html">C4Slice</a>&#160;</td>
          <td class="paramname"><em>dbPath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_c4_database_config.html">C4DatabaseConfig</a> *&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c4_error.html">C4Error</a> *&#160;</td>
          <td class="paramname"><em>outError</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deletes the file(s) for the view at the given path. </p>
<p>All C4Views at that path should be closed first. </p>

</div>
</div>
<a id="ga625c08bd66c84f355ae9e799618bfbc9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga625c08bd66c84f355ae9e799618bfbc9">&sect;&nbsp;</a></span>c4view_deleteByName()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool c4view_deleteByName </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___database.html#ga15e027d347f40041585744dad4dac1c9">C4Database</a> *&#160;</td>
          <td class="paramname"><em>database</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c4_slice.html">C4Slice</a>&#160;</td>
          <td class="paramname"><em>viewName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c4_error.html">C4Error</a> *&#160;</td>
          <td class="paramname"><em>outError</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deletes the file(s) for a view given its name and parent database. </p>
<p>Its path is assumed to be the same default path as used by c4view_open when no explicit path is given. </p>

</div>
</div>
<a id="ga798fe13ae345c89555771f22cb769d47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga798fe13ae345c89555771f22cb769d47">&sect;&nbsp;</a></span>c4view_eraseIndex()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool c4view_eraseIndex </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___views.html#ga38261162bc18a545134b7034254a0dfa">C4View</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c4_error.html">C4Error</a> *&#160;</td>
          <td class="paramname"><em>outError</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Erases the view index, but doesn't delete the database file. </p>

</div>
</div>
<a id="ga5b1edebd5b8e64ce04709ee770ff9b85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5b1edebd5b8e64ce04709ee770ff9b85">&sect;&nbsp;</a></span>c4view_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void c4view_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___views.html#ga38261162bc18a545134b7034254a0dfa">C4View</a> *&#160;</td>
          <td class="paramname"><em>view</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Frees a view handle, closing it if necessary. </p>

</div>
</div>
<a id="gafc398d535b5d021440cac6875a7518eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafc398d535b5d021440cac6875a7518eb">&sect;&nbsp;</a></span>c4view_getLastSequenceChangedAt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="c4_base_8h.html#a6c2d959939ef287ba3f2ee719c949229">C4SequenceNumber</a> c4view_getLastSequenceChangedAt </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___views.html#ga38261162bc18a545134b7034254a0dfa">C4View</a> *&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the last database sequence number that changed the view index. </p>

</div>
</div>
<a id="ga4b333720ce6278046f54e1689aaef109"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4b333720ce6278046f54e1689aaef109">&sect;&nbsp;</a></span>c4view_getLastSequenceIndexed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="c4_base_8h.html#a6c2d959939ef287ba3f2ee719c949229">C4SequenceNumber</a> c4view_getLastSequenceIndexed </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___views.html#ga38261162bc18a545134b7034254a0dfa">C4View</a> *&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the last database sequence number that's been indexed. </p>
<p>If this is less than the database's lastSequence, the view index is out of date. </p>

</div>
</div>
<a id="ga68d06512bf5f7eca01e4f7b93c42af18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga68d06512bf5f7eca01e4f7b93c42af18">&sect;&nbsp;</a></span>c4view_getTotalRows()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t c4view_getTotalRows </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___views.html#ga38261162bc18a545134b7034254a0dfa">C4View</a> *&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the total number of rows in the view index. </p>

</div>
</div>
<a id="gab676253cfbede79d25b5aedea19a2b5a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab676253cfbede79d25b5aedea19a2b5a">&sect;&nbsp;</a></span>c4view_open()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___views.html#ga38261162bc18a545134b7034254a0dfa">C4View</a>* c4view_open </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___database.html#ga15e027d347f40041585744dad4dac1c9">C4Database</a> *&#160;</td>
          <td class="paramname"><em>database</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c4_slice.html">C4Slice</a>&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c4_slice.html">C4Slice</a>&#160;</td>
          <td class="paramname"><em>viewName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c4_slice.html">C4Slice</a>&#160;</td>
          <td class="paramname"><em>version</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_c4_database_config.html">C4DatabaseConfig</a> *&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c4_error.html">C4Error</a> *&#160;</td>
          <td class="paramname"><em>outError</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Opens a view, or creates it if the file doesn't already exist. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">database</td><td>The database the view is associated with. </td></tr>
    <tr><td class="paramname">path</td><td>The filesystem path to the view index file. If this is null, a default path will be used that's next to the database file, with a name based on the view name. </td></tr>
    <tr><td class="paramname">viewName</td><td>The name of the view. </td></tr>
    <tr><td class="paramname">version</td><td>The version of the view's map function. </td></tr>
    <tr><td class="paramname">config</td><td>The configuration of the view's own index database </td></tr>
    <tr><td class="paramname">outError</td><td>On failure, error info will be stored here. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The new C4View, or NULL on failure. </dd></dl>

</div>
</div>
<a id="ga26ed42ace970ec926a0312c5b4aef92d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga26ed42ace970ec926a0312c5b4aef92d">&sect;&nbsp;</a></span>c4view_rekey()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool c4view_rekey </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___views.html#ga38261162bc18a545134b7034254a0dfa">C4View</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_c4_encryption_key.html">C4EncryptionKey</a> *&#160;</td>
          <td class="paramname"><em>newKey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c4_error.html">C4Error</a> *&#160;</td>
          <td class="paramname"><em>outError</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Changes a view's encryption key (removing encryption if it's NULL.) </p>

</div>
</div>
<a id="gae9f3b8fd090084c3c0ea84588993e4a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae9f3b8fd090084c3c0ea84588993e4a8">&sect;&nbsp;</a></span>c4view_setDocumentType()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void c4view_setDocumentType </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___views.html#ga38261162bc18a545134b7034254a0dfa">C4View</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c4_slice.html">C4Slice</a>&#160;</td>
          <td class="paramname"><em>docType</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets a documentType filter on the view. </p>
<p>If non-null, only documents whose documentType matches will be indexed by this view. </p>

</div>
</div>
<a id="ga2b01565ea447db0cbefb73b1e2c51843"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2b01565ea447db0cbefb73b1e2c51843">&sect;&nbsp;</a></span>c4view_setMapVersion()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void c4view_setMapVersion </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___views.html#ga38261162bc18a545134b7034254a0dfa">C4View</a> *&#160;</td>
          <td class="paramname"><em>view</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c4_slice.html">C4Slice</a>&#160;</td>
          <td class="paramname"><em>version</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the persistent version string associated with the map function. </p>
<p>If the new value is different from the one previously stored, the index is invalidated. </p>

</div>
</div>
<a id="ga87ed6a710bfb2fa888adc21a51d6d428"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga87ed6a710bfb2fa888adc21a51d6d428">&sect;&nbsp;</a></span>c4view_setOnCompactCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void c4view_setOnCompactCallback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___views.html#ga38261162bc18a545134b7034254a0dfa">C4View</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___database.html#gafd3c912727033ebd38acebb65145c36d">C4OnCompactCallback</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>context</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Registers a callback to be invoked when the view's index db starts or finishes compacting. </p>
<p>May be called on a background thread, so be careful of thread safety. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.12
</small></address>
</body>
</html>
